<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <link rel="stylesheet" href="/bower_components/font-awesome/css/font-awesome.min.css">
    <!-- Bootstrap core CSS -->
    <link href="/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel='stylesheet' href='/stylesheets/main.css'/>
    <link rel="import" href="/bower_components/polymer/polymer.html">
    <link rel="import" href="/dgm-navbar/dgm-navbar.html">
    <link rel="import" href="/dgm-footer/dgm-footer.html">

    <title><%= title %></title>

    <style>
        div.google-visualization-tooltip > ul > li > span {
            /*color: #f6f6f6 !important;*/
            font-size: 8pt !important;
            font-family: "Open Sans" !important;
        }
        div.google-visualization-tooltip {
            background: #f6f6f6;
            border: white !important;
        }

        .jqplot-highlighter-tooltip, .jqplot-canvasOverlay-tooltip {
            z-index: 2;
            background: #f6f6f6 !IMPORTANT;
            font-color: black !IMPORTANT;
            font-family: "Open Sans" !important;
            border: white !IMPORTANT;
        }

        .jqplot-table-legend {
            width: auto;
            border-color: transparent !important;
            background: transparent !important;
            padding: 5px;
        }

    </style>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart'], 'language':'es'});
        google.charts.setOnLoadCallback(drawSeriesChart);

        function drawSeriesChart() {

            var data = google.visualization.arrayToDataTable([
                ['ID',                      'Fecha de firma',                    'Vigencia (meses)', 'Tipo',             'Monto MXN'],
                ['LO-009KDH999-N5-2014',     new Date('2015-01-02'),              6,      'Licitación',              39724276.56],
                ['SO-009KDH999-N24-2015',    new Date('2015-02-19'),              1,      'Adjudicación directa',   521999.84],
                ['SO-009KDH999-N23-2015',    new Date('2015-02-20'),               1,      'Adjudicación directa',   638000],
                ['SO-009KDH999-N26-2015',    new Date('2015-02-19'),              1,      'Adjudicación directa',   539400],
                ['IO-009KDH999-N11-2015',    new Date('2015-03-19'),              2,         'Invitación a 3',         9429941.46],
                ['IO-009KDH999-N10-2015',    new Date('2015-03-20'),              6,       'Invitación a 3',         2501985.67],
                ['LO-099KDH999-N20-2015',    new Date('2015-05-14'),              1,      'Licitación',             5844840.96],
                ['LO-099KDH999-T15-2015',    new Date('2015-05-29'),              3,      'Licitación',             13514000],
                ['LO-009KDH999-N46-2015',    new Date('2015-07-21'),              18,      'Licitación',            16684244.272],
                ['LO-009KDH999-N42-2015',    new Date('2015-07-21'),              18,      'Licitación',             13832891.6792],
                ['LO-009KDH999-N45-2015',    new Date('2015-07-21'),              18,      'Licitación',             21963669.4016],
                ['IO-009KDH999-N41-2015',    new Date('2015-07-29'),              2,      'Invitación a 3',         38949488.17],
                ['IO-009KDH999-N54-2015',    new Date('2015-08-28'),              3.5,      'Invitación a 3',         3812525.54],
                ['LO-009KDH999-N47-2015',    new Date('2015-09-10'),              7,      'Licitación',             129973731.2],
                ['LO-009KDH999-N50-2015',    new Date('2015-10-09'),              4,      'Licitación',             223329692.62],
                ['LO-009KDH999-T52-2015',    new Date('2015-10-23'),              48,      'Licitación',             158629469.03],
                ['LO-009KDH999-N79-2015',    new Date('2015-12-14'),              12,      'Licitación',             2044851759.9544],
                ['LO-009KDH999-N80-2015',    new Date('2015-12-31'),              13,      'Licitación',             705599669.9],
                ['LO-009KDH999-N78-2015',    new Date('2015-12-31'),              9,      'Licitación',             572943111],
                ['LO-009KDH999-N86-2015',    new Date('2015-12-31'),              12,      'Licitación',             11276263.6272],
                ['LO-009KDH999-N87-2015',    new Date('2015-12-31'),              12,      'Licitación',             13970275.444],
                ['AO-009KDH999-E26-2016',    new Date('2016-01-14'),              6,      'Adjudicación directa',   4286458.44],
                ['AO-009KDH999-E20-2016',    new Date('2016-01-21'),              6,      'Adjudicación directa',   8909803.13],
                ['IO-009KDH999-E15-2016',    new Date('2016-03-10'),              3,      'Invitación a 3',         12715541.31],
                ['IO-009KDH999-E96-2015',    new Date('2016-03-23'),              8,      'Invitación a 3',         91640000]
            ]);

            var options = {
                //'legend': 'left',
                //title: 'Contrataciones en el tiempo',
                chartArea:{
                    width: '75%',
                    heigth: '90%',
                    left: '75',
                    right: '10',
                    top: '30'
                },
                backgroundColor: 'transparent',
                tooltip: {isHtml: true},

                hAxis: {
                    title: 'Fecha de firma',
                    textStyle: {
                        italic: false,
                        fontName: 'Open Sans',
                        fontSize: '11pt'
                    },
                    titleTextStyle: {
                        italic: false,
                        fontName: 'Open Sans',
                        fontSize: '14pt'
                    },
                    gridlines: {
                        color: 'transparent'
                    }

                },
                vAxis: {
                    title: 'Vigencia en meses',
                    textStyle: {
                        italic: false,
                        fontName: 'Open Sans',
                        fontSize: '11pt'
                    },
                    titleTextStyle: {
                        italic: false,
                        fontName: 'Open Sans',
                        fontSize: '14pt'
                    }
                    /*gridlines: {
                        color: 'transparent'
                    }*/
                },
                bubble: {
                    stroke: 'none',
                    textStyle: {
                        //no text
                        color: 'none',
                        fontSize: 11,
                        auraColor: 'none'
                    }},
                series: {

                    'Licitación': {
                        color: '#00cc99',
                        //fontName: 'Open Sans'
                    },
                    'Invitación a 3': {color: '#ff4d4d'},
                    'Adjudicación directa': {color: '#673AB7'}

                },
                legend: {
                    position: 'bottom',
                    textStyle : {
                        fontName: 'Open Sans'
                    }
                }
            };

            var chart = new google.visualization.BubbleChart(document.getElementById('series_chart_div'));
            chart.draw(data, options);
        }

        function createCustomHTMLContent(flagURL, totalGold, totalSilver, totalBronze) {

        }
    </script>

</head>
<body style="background: #eee">

<dgm-navbar></dgm-navbar>
<section id="banner">

    <div class="container-fluid fixed">
        <p class="text-left"><b>Nuevo Aeropuerto Intenacional de la Ciudad de México</b></p>

    </div>
</section>

<section id="highlights">
    <div class="content">
        <div class="overlay"></div>
        <div class="container-fluid">
            <div class="row">
                <div class='col-xs-12'><h3 class="jumbo-title">Estándar de Contrataciones Abiertas</h3></div>
            </div>
            <div class="row">
                <div class='col-xs-8'><p>Visualiza y descarga los Datos Abiertos de las etapas de planeación y concurso de la Red Compartida. Durante el desarrollo del proyecto, trabajaremos junto con la Alianza para las Contrataciones Abiertas para continuar publicando datos accesibles, comparables y oportunos sobre las siguientes etapas de adjudicación, contratación e implementación, conforme estos se generen. Este proyecto es parte de un piloto para adaptar el Estándar de Datos para Contrataciones Abiertas a un modelo de alianza público privado.</p></div>
                <div class='col-xs-1'></div>
                <div class='col-xs-3'><img src='/images/Logo-GACM.png'/></div>
            </div>
        </div>
    </div>
</section>

<div class="container">

    <!-- <div class="col-xs-12" style=" background: #eee ">
        jkdjskjsjsdkjs
    </div>-->

    <br>
    <!--<div class="panel panel-default" style="background: #eee;">
        <div class="panel-body">-->
    <div class="row">
        <div class="col-sm-12" style=" background: white;">
            <div class="col-sm-4">
                <!--<img src="/images/gacm1.png" >-->
                <h3 style="color: #00cc99"><b>NAICM</b></h3>
                <h2 style="color: #673AB7"><b>25</b> <small>contratos</small></h2>
                <h2 style="color: #673AB7"><b>26</b> <small>contratistas</small></h2>
                <h2 style="color: #673AB7"><b>4,146</b> <small>millones de pesos</small></h2>

            </div>
            <div class="col-sm-8" >
                <h3 style="text-align: left; color: #00cc99"><b>Avance físico y financiero por contrato</b></h3>
                <div id="chart2" style="max-width:700px; height: 350px;"></div>
                <div class="btn-group">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Ordenar por <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href="#" data-serie = 's1' id="sort1">Avance físico</a></li>
                        <li><a href="#" data-serie = 's2' id="sort2">Avance financiero</a></li>
                    </ul>
                </div>
                <br>
                <br>
            </div>
        </div>
    </div>
    <!--
        </div>
    </div>-->

    <br>


    <!--<div class="panel panel-default" style="background: #eee">
        <div class="panel-body">-->

    <div class="row">
        <div class="col-sm-12" style="background: white">
            <div class="col-sm-4" style="background: white;">
                <h3 style="text-align: left; color: #00cc99"><b>Tipos de contratación</b></h3>
                <div  style="color: white; height: 270px; width: 260px;" id="chart4"></div>
            </div>
            <div class="col-sm-8" style="background: white; overflow: auto">
                <h3 style="text-align: left; color: #00cc99"><b>Contrataciones en el tiempo</b></h3>

                <div  style="height: 400px; width: 700px; align-content: left;" id="series_chart_div" ></div>

                <br>
            </div>
        </div>
    </div>

    <!--
        </div>
    </div>-->
    <br>
    <div class="row">
        <div class="col-sm-4">
            <div class="input-group">
                <input id="buscar" type="text" class="form-control" placeholder="Buscar..." aria-describedby="basic-addon1">
                <span class="input-group-addon" id="basic-addon1"><i class="fa fa-search"></i></span>
            </div>
        </div>
    </div>
    <br>

    <div style="font-size: small">
        <div id="ctable">
            <% include contracts %>
        </div>
    </div>
</div>

<dgm-footer></dgm-footer>

<script src="/bower_components/jquery/dist/jquery.min.js"></script>
<script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/bower_components/jqplot/jquery.jqplot.js"></script>
<script src="/bower_components/jqplot/plugins/jqplot.donutRenderer.js"></script>
<script src="/bower_components/jqplot/plugins/jqplot.barRenderer.js"></script>
<script type="text/javascript" src="/bower_components/jqplot/plugins/jqplot.canvasTextRenderer.min.js"></script>
<script type="text/javascript" src="/bower_components/jqplot/plugins/jqplot.enhancedLegendRenderer.min.js"></script>
<script type="text/javascript" src="/bower_components/jqplot/plugins/jqplot.canvasAxisLabelRenderer.min.js"></script>
<script type="text/javascript" src="/bower_components/jqplot/plugins/jqplot.categoryAxisRenderer.js"></script>
<!--<script type="text/javascript" src="/bower_components/jqplot/plugins/jqplot.canvasAxisTickRenderer.min.js"></script>-->
<script type="text/javascript" src="/bower_components/jqplot/plugins/jqplot.pointLabels.js"></script>
<script type="text/javascript" src="/bower_components/jqplot/plugins/jqplot.highlighter.js"></script>
<link rel="stylesheet" type="text/css" href="/bower_components/jqplot/jquery.jqplot.css" />

<script src="/bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
<script src="/javascripts/dashboard.js"></script>

</body>
</html>
